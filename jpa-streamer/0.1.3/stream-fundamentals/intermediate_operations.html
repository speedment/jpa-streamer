<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Intermediate Operations :: JPAStreamer</title>
    <link rel="prev" href="stream_basics.html">
    <link rel="next" href="terminal_operations.html">
    <meta name="generator" content="Antora 2.3.3">
    <link rel="stylesheet" href="../../../_/css/site.css">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="../../.."></a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="https://speedment.github.io/jpa-streamer/">Home</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Resources</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="https://gitter.im/speedment/jpa-streamer">Gitter Chat</a>
            <a class="navbar-item" href="https://jpastreamer.org">Website</a>
            <a class="navbar-item" href="https://github.com/speedment/jpa-streamer">GitHub</a>
          </div>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="jpa-streamer" data-version="0.1.3">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../introduction/introduction.html">Introduction</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../why-jpastreamer/why-jpastreamer.html">Why JPAstreamer?</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../how-it-works/how-it-works.html">How JPAstreamer Works</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../quick-start/quick-start.html">Quick-start with JPAstreamer</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <span class="nav-text">Get JPAstreamer</span>
    <button class="nav-item-toggle"></button>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../get-jpa-streamer/install-maven.html">Install with Maven</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../get-jpa-streamer/install-gradle.html">Install with Gradle</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../get-jpa-streamer/spring_integration.html">Spring Integration</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../predicates/predicates.html">Predicates</a>
    <button class="nav-item-toggle"></button>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../predicates/reference-predicates.html">Reference Predicates</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../predicates/comparable-predicates.html">Comparable Predicates</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../predicates/string-predicates.html">String Predicates</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../predicates/primitive-predicates.html">Primitive Predicates</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../predicates/negating-predicates.html">Negating Predicates</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../predicates/combining-predicates.html">Combining Predicates</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="stream_basics.html">Stream Fundamentals</a>
    <button class="nav-item-toggle"></button>
<ul class="nav-list">
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="intermediate_operations.html">Intermediate Operations</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="terminal_operations.html">Terminal Operations</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="other_operations.html">Other Operations</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../fetching-data/fetching-data.html">Fetching Data</a>
    <button class="nav-item-toggle"></button>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../fetching-data/sql-equivalents.html">SQL Equivalents</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../fetching-data/stream-examples.html">Stream Examples</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../transactions/transactions.html">Transactions</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">JPAStreamer Docs</span>
    <span class="version">0.1.3</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">JPAStreamer Docs</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../introduction/introduction.html">0.1.3</a>
        </li>
        <li class="version">
          <a href="../../0.1.2/introduction/introduction.html">0.1.2</a>
        </li>
        <li class="version">
          <a href="../../0.1.0/introduction/introduction.html">0.1.0</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
</div>
  <div class="content">
<article class="doc">
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../introduction/introduction.html">JPAStreamer Docs</a></li>
    <li><a href="stream_basics.html">Stream Fundamentals</a></li>
    <li><a href="intermediate_operations.html">Intermediate Operations</a></li>
  </ul>
</nav>
<h1 class="page">Intermediate Operations</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>An intermediate operation is an operation that allows further operations to be added to a <code>Stream</code>. For example, <code>filter</code> is an intermediate operation since additional operations can be added to a <code>Stream</code> pipeline after <code>filter</code> has been applied to the <code>Stream</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
In the examples below, many of the lambdas could be replaced by method references (e.g. the lambda <code>() &#8594; new StringBuilder</code> can be replaced by a method reference <code>StringBuilder::new</code>).
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_common_operations"><a class="anchor" href="#_common_operations"></a>Common Operations</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following intermediate operations are accepted by a <code>Stream</code>:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Operation</th>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Returns a <code>Stream</code> that:</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>filter</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Predicate</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">contains only the elements that match the <code>Predicate</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>map</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Function</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">contains the results of applying the given <code>Function</code> to the elements of this stream</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>distinct</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">contains the distinct (i.e. unique) elements in the stream as per the element&#8217;s <code>equals()</code> method</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>sorted</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">contains the elements in the stream in sorted order as per the element&#8217;s <code>compareTo()</code> method</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>sorted</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Comparator</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">contains the elements in the stream in sorted order as per the given <code>Comparator</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>limit</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>long</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">contains the original elements in the stream but truncated to be no longer than the given <code>long</code> value</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>skip</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>long</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">contains the original elements in the stream but after discarding the given <code>long</code> value of elements</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>flatMap</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Function</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">contains the elements of the <code>Stream`s in this stream obtained by applying the given `Function</code> to the stream elements of this stream</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>peek</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Consumer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">contains the original elements in the stream but additionally letting the given <code>Consumer</code> accept each element (side effect)</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Below are examples that demonstrate how these operations can be applied.</p>
</div>
<div class="sect2">
<h3 id="_filter"><a class="anchor" href="#_filter"></a>filter</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">    Stream.of("B", "A", "C" , "B")
        .filter(s -&gt; s.equals("B"))</code></pre>
</div>
</div>
<div class="paragraph">
<p>returns a <code>Stream</code> with the elements "B" and "B" because only elements that are equal to "B" will pass the <code>filter</code> operation.</p>
</div>
</div>
<div class="sect2">
<h3 id="_map"><a class="anchor" href="#_map"></a>map</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">    Stream.of("B", "A", "C" , "B")
        .map(s -&gt; s.toLowerCase())</code></pre>
</div>
</div>
<div class="paragraph">
<p>returns a <code>Stream</code> with the elements "b", "a", "c" and "b" because each element will be mapped (converted) to its lower case representation.</p>
</div>
</div>
<div class="sect2">
<h3 id="_distinct"><a class="anchor" href="#_distinct"></a>distinct</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">    Stream.of("B", "A", "C" , "B")
        .distinct()</code></pre>
</div>
</div>
<div class="paragraph">
<p>returns a <code>Stream</code> with the elements "B", "A" and "C" because only unique elements will pass the <code>distinct</code> operation.</p>
</div>
</div>
<div class="sect2">
<h3 id="_sorted"><a class="anchor" href="#_sorted"></a>sorted</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">    Stream.of("B", "A", "C" , "B")
        .sorted()</code></pre>
</div>
</div>
<div class="paragraph">
<p>returns a <code>Stream</code> with the elements "A", "B", "B" and "C" because the <code>sort</code> operation will sort all elements in the stream in natural order.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">    Stream.of("B", "A", "C" , "B")
        .sorted(Comparator.reverseOrder())</code></pre>
</div>
</div>
<div class="paragraph">
<p>returns a <code>Stream</code> with the elements "C", "B", "B" and "A" because the <code>sort</code> operation will sort all elements in the stream according to the provided <code>Comparator</code> (in reversed natural order).</p>
</div>
</div>
<div class="sect2">
<h3 id="_limit"><a class="anchor" href="#_limit"></a>limit</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">    Stream.of("B", "A", "C" , "B")
        .limit(2)</code></pre>
</div>
</div>
<div class="paragraph">
<p>returns a <code>Stream</code> with the elements "B" and "A" because after the two first elements the rest of the elements will be discarded.</p>
</div>
</div>
<div class="sect2">
<h3 id="_skip"><a class="anchor" href="#_skip"></a>skip</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">    Stream.of("B", "A", "C" , "B")
        .skip(1)</code></pre>
</div>
</div>
<div class="paragraph">
<p>returns a <code>Stream</code> with the elements "A", "C" and "B" because the first element in the stream will be skipped.</p>
</div>
</div>
<div class="sect2">
<h3 id="_flatmap"><a class="anchor" href="#_flatmap"></a>flatMap</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">    Stream.of(
        Stream.of("B", "A"),
        Stream.of("C", "B")
    )
        .flatMap(Function.identity())
        .forEachOrdered(System.out::println);</code></pre>
</div>
</div>
<div class="paragraph">
<p>returns a <code>Stream</code> with the elements "B", "A", "C" and "B" because the two streams (that each contain two elements) are "flattened" to a single <code>Stream</code> with four elements.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">    Stream.of(
        Arrays.asList("B", "A"),
        Arrays.asList("C", "B")
    )
        .flatMap(l -&gt; l.stream())</code></pre>
</div>
</div>
<div class="paragraph">
<p>returns a <code>Stream</code> with the elements "B", "A", "C" and "B" because the two lists (that each contain two elements) are "flattened" to a single <code>Stream</code> with four elements. The lists are converted to sub-streams using the <code>List::stream</code> mapper method.</p>
</div>
</div>
<div class="sect2">
<h3 id="_peek"><a class="anchor" href="#_peek"></a>peek</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">    Stream.of("B", "A", "C" , "B")
        .peek(System.out::print)</code></pre>
</div>
</div>
<div class="paragraph">
<p>returns a <code>Stream</code> with the elements "B", "A", "C" and "B" but, when consumed in its entirety, will print out the text "BACB" as a side effect.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Side-effect usage is discouraged in Streams. Use this operation for debug only.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stream_property_operations"><a class="anchor" href="#_stream_property_operations"></a>Stream Property Operations</h2>
<div class="sectionbody">
<div class="paragraph">
<p>There are also a number of intermediate operations that controls the properties of the <code>Stream</code> and has no effect on its actual content. These are:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Operation</th>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Returns a <code>Stream</code> that:</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>parallel</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">is parallel (not sequential)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>sequential</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">is sequential (not parallel)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>unordered</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">is unordered (data might appear in any order)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>onClose</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Runnable</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">will run the provided <code>Runnable</code> when closed</p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="_parallel"><a class="anchor" href="#_parallel"></a>parallel</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">    Stream.of("B", "A", "C" , "B")
        .parallel()</code></pre>
</div>
</div>
<div class="paragraph">
<p>returns a <code>Stream</code> with the elements "B", "A", "C" and "B" but, when consumed, elements in the <code>Stream</code> may be propagated through the pipeline using different <code>Threads. By default, parallel streams are executed on the default `ForkJoinPool</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_sequential"><a class="anchor" href="#_sequential"></a>sequential</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">    Stream.of("B", "A", "C" , "B")
        .parallel()
        .sequential()</code></pre>
</div>
</div>
<div class="paragraph">
<p>returns a <code>Stream</code> with the elements "B", "A", "C" and "B" that is not parallel.</p>
</div>
</div>
<div class="sect2">
<h3 id="_unordered"><a class="anchor" href="#_unordered"></a>unordered</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">    Stream.of("B", "A", "C" , "B")
        .unordered()</code></pre>
</div>
</div>
<div class="paragraph">
<p>returns a <code>Stream</code> with the given elements but not necessary in any particular order. So when consumed, elements might be encountered in any order, for example in the order "C", "B", "B", "A". Note that <code>unordered</code> is just a relaxation of the stream requirements. Unordered streams can retain their original element order or elements can appear in any other order.</p>
</div>
</div>
<div class="sect2">
<h3 id="_onclose"><a class="anchor" href="#_onclose"></a>onClose</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">    Stream.of("B", "A", "C", "B")
        .onClose( () -&gt; System.out.println("The Stream was closed") );</code></pre>
</div>
</div>
<div class="paragraph">
<p>is a <code>Stream</code> with the elements "B", "A", "C" and "B" but, when closed, will print out the text "The Stream was closed".</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_map_to_primitive_operations"><a class="anchor" href="#_map_to_primitive_operations"></a>Map to Primitive Operations</h2>
<div class="sectionbody">
<div class="paragraph">
<p>There are also some intermediate operations that maps a <code>Stream</code> to one of the special primitive stream types; <code>IntStrem</code>, <code>LongStream</code> and <code>DoubleStream</code>:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Operation</th>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Returns a <code>Stream</code> that:</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mapToInt</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ToIntFunction</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">is an <code>IntStream</code> containing <code>int</code> elements obtained by applying the given <code>ToIntFunction</code> to the elements of this stream</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mapToLong</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ToLongFunction</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">is a <code>LongStream</code> containing <code>long</code> elements obtained by applying the given <code>ToLongFunction</code> to the elements of this stream</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mapToDouble</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ToDoubleFunction</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">is a <code>DoubleStream</code> containing <code>double</code> elements obtained by applying the given <code>ToDoubleFunction</code> to the elements of this stream</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>flatMapToInt</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Function</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">contains the <code>int</code> elements of the <code>IntStream`s in this stream obtained by applying the given `Function</code> to the stream elements of this stream</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>flatMapToLong</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Function</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">contains the <code>long</code> elements of the <code>LongStream`s in this stream obtained by applying the given `Function</code> to the stream elements of this stream</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>flatMapToDouble</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Function</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">contains the <code>double</code> elements of the <code>DoubleStream`s in this stream obtained by applying the given `Function</code> to the stream elements of this stream</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
In many cases, primitive streams provide better performance but can only handle streams of: <code>int</code>, <code>long</code> and <code>double</code>.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_maptoint"><a class="anchor" href="#_maptoint"></a>mapToInt</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">    Stream.of("B", "A", "C" , "B")
        .mapToInt(s -&gt; s.hashCode())</code></pre>
</div>
</div>
<div class="paragraph">
<p>returns an <code>IntStream</code> with the <code>int</code> elements 66, 65, 67 and 66. (A is 65, B is 66 and so on)</p>
</div>
</div>
<div class="sect2">
<h3 id="_maptolong"><a class="anchor" href="#_maptolong"></a>mapToLong</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">    Stream.of("B", "A", "C", "B")
        .mapToLong(s -&gt; s.hashCode() * 1_000_000_000_000l)</code></pre>
</div>
</div>
<div class="paragraph">
<p>returns a <code>LongStream</code> with the <code>long</code> elements 66000000000000, 65000000000000, 67000000000000 and 66000000000000.</p>
</div>
</div>
<div class="sect2">
<h3 id="_maptodouble"><a class="anchor" href="#_maptodouble"></a>mapToDouble</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">    Stream.of("B", "A", "C", "B")
        .mapToDouble(s -&gt; s.hashCode() / 10.0)</code></pre>
</div>
</div>
<div class="paragraph">
<p>returns a <code>DoubleStream</code> with the <code>double</code> elements 6.6, 6.5, 6.7 and 6.6.
=== flatMapToInt</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">    Stream.of(
        IntStream.of(1, 2),
        IntStream.of(3, 4)
    )
        .flatMapToInt(s -&gt; s.map(i -&gt; i + 1))</code></pre>
</div>
</div>
<div class="paragraph">
<p>returns an <code>IntStream</code> with the <code>int</code> elements 2, 3, 4 and 5 because the two `IntStream`s where flattened to one stream whereby 1 was added to each element.</p>
</div>
</div>
<div class="sect2">
<h3 id="_flatmaptolong"><a class="anchor" href="#_flatmaptolong"></a>flatMapToLong</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">    Stream.of(
        LongStream.of(1, 2),
        LongStream.of(3, 4)
    )
        .flatMapToLong(s -&gt; s.map(i -&gt; i + 1))</code></pre>
</div>
</div>
<div class="paragraph">
<p>returns a <code>LongStream</code> with the <code>long</code> elements 2, 3, 4 and 5 because the two <code>LongStreams</code> where flattened to one stream whereby 1 was added to each element.</p>
</div>
</div>
<div class="sect2">
<h3 id="_flatmaptodouble"><a class="anchor" href="#_flatmaptodouble"></a>flatMapToDouble</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">    Stream.of(
        DoubleStream.of(1.0, 2.0),
        DoubleStream.of(3.0, 4.0)
    )
        .flatMapToDouble(s -&gt; s.map(i -&gt; i + 1))</code></pre>
</div>
</div>
<div class="paragraph">
<p>returns a <code>DoubleStream</code> with the <code>double</code> elements 2.0, 3.0, 4.0 and 5.0 because the two `DoubleStream`s where flattened to one stream whereby 1 was added to each element.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_primitive_operations"><a class="anchor" href="#_primitive_operations"></a>Primitive Operations</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Primitive streams (like <code>IntStream</code> and <code>LongStream</code>) provide similar functionality as ordinary streams but usually the parameter count and types differ so that primitive streams can accept more optimized function variants.
Here is a table of some additional <strong>Intermediate Operations</strong> that primitive Streams can take:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Operation</th>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Returns a <code>Stream</code> that:</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>boxed</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">contains the boxed elements in the original stream (e.g. an <code>int</code> is boxed to an <code>Integer</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>asLongStream</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">contains the elements in the original stream converted to <code>long</code> elements</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>asDoubleStream</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">contains the elements in the original stream converted to <code>double</code> elements</p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="_boxed"><a class="anchor" href="#_boxed"></a>boxed</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">    IntStream.of(1, 2, 3, 4)
        .boxed()</code></pre>
</div>
</div>
<div class="paragraph">
<p>returns a <code>Stream</code> with the <code>Integer</code> elements 1, 2, 3 and 4 because the original <code>int</code> elements were boxed to their corresponding <code>Integer</code> elements.</p>
</div>
</div>
<div class="sect2">
<h3 id="_aslongstream"><a class="anchor" href="#_aslongstream"></a>asLongStream</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">     IntStream.of(1, 2, 3, 4)
        .asLongStream()</code></pre>
</div>
</div>
<div class="paragraph">
<p>returns a <code>LongStream</code> with the <code>long</code> elements 1, 2, 3 and 4 because the original <code>int</code> elements were converted to <code>long</code> elements.</p>
</div>
</div>
<div class="sect2">
<h3 id="_asdoublestream"><a class="anchor" href="#_asdoublestream"></a>asDoubleStream</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">    IntStream.of(1, 2, 3, 4)
        .asDoubleStream()</code></pre>
</div>
</div>
<div class="paragraph">
<p>returns a <code>DoubleStream</code> with the <code>double</code> elements 1.0, 2.0, 3.0 and 4.0 because the original <code>int</code> elements were converted to <code>double</code> elements.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_java_9_operations"><a class="anchor" href="#_java_9_operations"></a>Java 9 Operations</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Two new intermediate operations were introduced in Java 9. Since these methods were added to the <code>Stream</code> interface with default implementations, these methods can be used by any <code>Stream</code> implementation written in either Java 8 or Java 9.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Operation</th>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Returns a <code>Stream</code> that:</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>takeWhile</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Predicate</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">contains the elements in the original stream until the the first one fails the <code>Predicate</code> test</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dropWhile</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Predicate</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">contains the elements in the original stream dropping all elements until the the first one fails the <code>Predicate</code> test then containing the rest of the elements</p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="_takewhile_java_9_only"><a class="anchor" href="#_takewhile_java_9_only"></a>takeWhile (Java 9 only)</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">    Stream.of("B", "A", "C", "B")
        .takeWhile(s -&gt; "B".compareTo(s) &gt;= 0)</code></pre>
</div>
</div>
<div class="paragraph">
<p>returns a <code>Stream</code> with the elements "B" and "A" because when "C" is encountered in the <code>Stream</code>, that element and all following are dropped.</p>
</div>
</div>
<div class="sect2">
<h3 id="_dropwhile_java_9_only"><a class="anchor" href="#_dropwhile_java_9_only"></a>dropWhile (Java 9 only)</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">    Stream.of("B", "A", "C", "B")
        .dropWhile(s -&gt; "B".compareTo(s) &gt;= 0)</code></pre>
</div>
</div>
<div class="paragraph">
<p>returns a <code>Stream</code> with the elements "C" and "B" because elements are dropped from the <code>Stream</code> but when "C" in encountered, subsequent elements are not dropped.</p>
</div>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="stream_basics.html">Stream Fundamentals</a></span>
  <span class="next"><a href="terminal_operations.html">Terminal Operations</a></span>
</nav>
</article>
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
  </div>
</main>
</div>
<footer class="footer">
  <p>Â© 2020 Speedment, Inc. All rights reserved.</p>
</footer>
<script src="../../../_/js/site.js"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
